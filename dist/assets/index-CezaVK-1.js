import{r as o,_ as ge,u as Kn,R as A,l as Vt,c as Xn,a as Qn,D as Yn,g as Dt,C as ue,b as T,d as ot,e as st,f as K,h as Zn,i as it,j as Jn,k as er,m as tr,n as He,o as Ge,p as ye,q as nr,s as Lt,t as ce,v as Wt,w as Ht,x as Q,y as rr,z as we,A as ar,B as Ae,E as Gt,F as or,G as Je,H as qt,I as sr,J as ir,K as lr,L as f,S as cr,M as lt,N as ur,O as Ut,P as dr,Q as Kt}from"./index-Bfu113qF.js";import{S as mr,C as qe,R as fr,F as de}from"./UserOutlined-BqcZUSh8.js";import{B as pe,c as Xt,u as Ue,R as ct,p as gr,a as Pe,b as pr,C as tt,z as hr,g as Ie,d as vr,e as br,f as Cr,h as xr,i as yr,j as Qt,k as Sr,r as Nr,l as Or,m as $r,n as Er,P as wr,o as jr,q as Ir,s as Pr,t as Rr,T as zr,K as Mr,v as Tr,I as Se,w as kr,x as Br,y as Fr,A as _r,D as Ar,E as Vr,F as Yt,G as Dr,H as Lr,J as Wr,L as Hr,M as Gr,N as qr,O as Ur,Q as Kr,S as Xr,U as Qr,V as Yr,W as Nt,X as Zr,Y as Jr,Z as ea,_ as ta,$ as na,a0 as ra,a1 as ut,a2 as je,a3 as Be,a4 as Zt,a5 as aa,a6 as Fe,a7 as Jt,a8 as en,a9 as tn,aa as Ve,ab as De}from"./d-func-CczR7Eh6.js";import{m as Ot,u as nn,D as oa,p as sa,a as ia,R as la,w as ca,P as ua,L as $t,b as da,c as Ke}from"./index-DeQMEa7G.js";function ma(){const[e,t]=o.useState([]),n=o.useCallback(r=>(t(a=>[].concat(ge(a),[r])),()=>{t(a=>a.filter(s=>s!==r))}),[]);return[e,n]}function et(e){return!!e?.then}const rn=e=>{const{type:t,children:n,prefixCls:r,buttonProps:a,close:s,autoFocus:u,emitEvent:i,isSilent:l,quitOnNullishReturnValue:d,actionFn:c}=e,p=o.useRef(!1),h=o.useRef(null),[g,x]=Kn(!1),v=(...m)=>{s?.apply(void 0,m)};o.useEffect(()=>{let m=null;return u&&(m=setTimeout(()=>{var C;(C=h.current)===null||C===void 0||C.focus({preventScroll:!0})})),()=>{m&&clearTimeout(m)}},[]);const S=m=>{et(m)&&(x(!0),m.then((...C)=>{x(!1,!0),v.apply(void 0,C),p.current=!1},C=>{if(x(!1,!0),p.current=!1,!l?.())return Promise.reject(C)}))},y=m=>{if(p.current)return;if(p.current=!0,!c){v();return}let C;if(i){if(C=c(m),d&&!et(C)){p.current=!1,v(m);return}}else if(c.length)C=c(s),p.current=!1;else if(C=c(),!et(C)){v();return}S(C)};return o.createElement(pe,Object.assign({},Xt(t),{onClick:y,loading:g,prefixCls:r},a,{ref:h}),n)},Re=A.createContext({}),{Provider:an}=Re,Et=()=>{const{autoFocusButton:e,cancelButtonProps:t,cancelTextLocale:n,isSilent:r,mergedOkCancel:a,rootPrefixCls:s,close:u,onCancel:i,onConfirm:l}=o.useContext(Re);return a?A.createElement(rn,{isSilent:r,actionFn:i,close:(...d)=>{u?.apply(void 0,d),l?.(!1)},autoFocus:e==="cancel",buttonProps:t,prefixCls:`${s}-btn`},n):null},wt=()=>{const{autoFocusButton:e,close:t,isSilent:n,okButtonProps:r,rootPrefixCls:a,okTextLocale:s,okType:u,onConfirm:i,onOk:l}=o.useContext(Re);return A.createElement(rn,{isSilent:n,type:u||"primary",actionFn:l,close:(...d)=>{t?.apply(void 0,d),i?.(!0)},autoFocus:e==="ok",buttonProps:r,prefixCls:`${a}-btn`},s)};function Le(e){if(!e)return;const{closable:t,closeIcon:n}=e;return{closable:t,closeIcon:n}}function jt(e){const{closable:t,closeIcon:n}=e||{};return A.useMemo(()=>{if(!t&&(t===!1||n===!1||n===null))return!1;if(t===void 0&&n===void 0)return null;let r={closeIcon:typeof n!="boolean"&&n!==null?n:void 0};return t&&typeof t=="object"&&(r=Object.assign(Object.assign({},r),t)),r},[t,n])}const fa={};function on(e,t,n=fa){const r=jt(e),a=jt(t),[s]=Ue("global",Vt.global),u=typeof r!="boolean"?!!r?.disabled:!1,i=A.useMemo(()=>Object.assign({closeIcon:A.createElement(ct,null)},n),[n]),l=A.useMemo(()=>r===!1?!1:r?Ot(i,a,r):a===!1?!1:a?Ot(i,a):i.closable?i:!1,[r,a,i]);return A.useMemo(()=>{var d,c;if(l===!1)return[!1,null,u,{}];const{closeIconRender:p}=i,{closeIcon:h}=l;let g=h;const x=gr(l,!0);return g!=null&&(p&&(g=p(h)),g=A.isValidElement(g)?A.cloneElement(g,Object.assign(Object.assign(Object.assign({},g.props),{"aria-label":(c=(d=g.props)===null||d===void 0?void 0:d["aria-label"])!==null&&c!==void 0?c:s.close}),x)):A.createElement("span",Object.assign({"aria-label":s.close},x),g)),[!0,g,u,x]},[l,i])}const ga=()=>Xn()&&window.document.documentElement;function It(){}const pa=o.createContext({add:It,remove:It});function ha(e){const t=o.useContext(pa),n=o.useRef(null);return Qn(a=>{if(a){const s=e?a.querySelector(e):a;t.add(s),n.current=s}else t.remove(n.current)})}const Pt=()=>{const{cancelButtonProps:e,cancelTextLocale:t,onCancel:n}=o.useContext(Re);return A.createElement(pe,Object.assign({onClick:n},e),t)},Rt=()=>{const{confirmLoading:e,okButtonProps:t,okType:n,okTextLocale:r,onOk:a}=o.useContext(Re);return A.createElement(pe,Object.assign({},Xt(n),{loading:e,onClick:a},t),r)};function sn(e,t){return A.createElement("span",{className:`${e}-close-x`},t||A.createElement(ct,{className:`${e}-close-icon`}))}const ln=e=>{const{okText:t,okType:n="primary",cancelText:r,confirmLoading:a,onOk:s,onCancel:u,okButtonProps:i,cancelButtonProps:l,footer:d}=e,[c]=Ue("Modal",Dt()),p=t||c?.okText,h=r||c?.cancelText,g={confirmLoading:a,okButtonProps:i,cancelButtonProps:l,okTextLocale:p,cancelTextLocale:h,okType:n,onOk:s,onCancel:u},x=A.useMemo(()=>g,ge(Object.values(g)));let v;return typeof d=="function"||typeof d>"u"?(v=A.createElement(A.Fragment,null,A.createElement(Pt,null),A.createElement(Rt,null)),typeof d=="function"&&(v=d(v,{OkBtn:Rt,CancelBtn:Pt})),v=A.createElement(an,{value:x},v)):v=d,A.createElement(Yn,{disabled:!1},v)};var va=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};let nt;const ba=e=>{nt={x:e.pageX,y:e.pageY},setTimeout(()=>{nt=null},100)};ga()&&document.documentElement.addEventListener("click",ba,!0);const cn=e=>{const{prefixCls:t,className:n,rootClassName:r,open:a,wrapClassName:s,centered:u,getContainer:i,focusTriggerAfterClose:l=!0,style:d,visible:c,width:p=520,footer:h,classNames:g,styles:x,children:v,loading:S,confirmLoading:y,zIndex:m,mousePosition:C,onOk:b,onCancel:w,destroyOnHidden:I,destroyOnClose:E,panelRef:B=null}=e,W=va(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading","confirmLoading","zIndex","mousePosition","onOk","onCancel","destroyOnHidden","destroyOnClose","panelRef"]),{getPopupContainer:D,getPrefixCls:V,direction:k,modal:O}=o.useContext(ue),G=se=>{y||w?.(se)},Z=se=>{b?.(se)},P=V("modal",t),Y=V(),F=Pe(P),[X,R,_]=nn(P,F),U=T(s,{[`${P}-centered`]:u??O?.centered,[`${P}-wrap-rtl`]:k==="rtl"}),q=h!==null&&!S?o.createElement(ln,Object.assign({},e,{onOk:Z,onCancel:G})):null,[ee,ne,me,fe]=on(Le(e),Le(O),{closable:!0,closeIcon:o.createElement(ct,{className:`${P}-close-icon`}),closeIconRender:se=>sn(P,se)}),z=ha(`.${P}-content`),ae=ot(B,z),[oe,H]=pr("Modal",m),[L,J]=o.useMemo(()=>p&&typeof p=="object"?[void 0,p]:[p,void 0],[p]),Me=o.useMemo(()=>{const se={};return J&&Object.keys(J).forEach(Ne=>{const ie=J[Ne];ie!==void 0&&(se[`--${P}-${Ne}-width`]=typeof ie=="number"?`${ie}px`:ie)}),se},[J]);return X(o.createElement(tt,{form:!0,space:!0},o.createElement(hr.Provider,{value:H},o.createElement(oa,Object.assign({width:L},W,{zIndex:oe,getContainer:i===void 0?D:i,prefixCls:P,rootClassName:T(R,r,_,F),footer:q,visible:a??c,mousePosition:C??nt,onClose:G,closable:ee&&Object.assign({disabled:me,closeIcon:ne},fe),closeIcon:ne,focusTriggerAfterClose:l,transitionName:Ie(Y,"zoom",e.transitionName),maskTransitionName:Ie(Y,"fade",e.maskTransitionName),className:T(R,n,O?.className),style:Object.assign(Object.assign(Object.assign({},O?.style),d),Me),classNames:Object.assign(Object.assign(Object.assign({},O?.classNames),g),{wrapper:T(U,g?.wrapper)}),styles:Object.assign(Object.assign({},O?.styles),x),panelRef:ae,destroyOnClose:I??E}),S?o.createElement(mr,{active:!0,title:!1,paragraph:{rows:4},className:`${P}-body-skeleton`}):v))))},Ca=e=>{const{componentCls:t,titleFontSize:n,titleLineHeight:r,modalConfirmIconSize:a,fontSize:s,lineHeight:u,modalTitleHeight:i,fontHeight:l,confirmBodyPadding:d}=e,c=`${t}-confirm`;return{[c]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${c}-body-wrapper`]:Object.assign({},Zn()),[`&${t} ${t}-body`]:{padding:d},[`${c}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:a,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(l).sub(a).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(i).sub(a).equal()).div(2).equal()}},[`${c}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${K(e.marginSM)})`},[`${e.iconCls} + ${c}-paragraph`]:{maxWidth:`calc(100% - ${K(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${c}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:n,lineHeight:r},[`${c}-content`]:{color:e.colorText,fontSize:s,lineHeight:u},[`${c}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${c}-error ${c}-body > ${e.iconCls}`]:{color:e.colorError},[`${c}-warning ${c}-body > ${e.iconCls},
        ${c}-confirm ${c}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${c}-info ${c}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${c}-success ${c}-body > ${e.iconCls}`]:{color:e.colorSuccess}}},xa=st(["Modal","confirm"],e=>{const t=sa(e);return Ca(t)},ia,{order:-1e3});var ya=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function un(e){const{prefixCls:t,icon:n,okText:r,cancelText:a,confirmPrefixCls:s,type:u,okCancel:i,footer:l,locale:d}=e,c=ya(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let p=n;if(!n&&n!==null)switch(u){case"info":p=o.createElement(yr,null);break;case"success":p=o.createElement(xr,null);break;case"error":p=o.createElement(Cr,null);break;default:p=o.createElement(br,null)}const h=i??u==="confirm",g=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[x]=Ue("Modal"),v=d||x,S=r||(h?v?.okText:v?.justOkText),y=a||v?.cancelText,m=Object.assign({autoFocusButton:g,cancelTextLocale:y,okTextLocale:S,mergedOkCancel:h},c),C=o.useMemo(()=>m,ge(Object.values(m))),b=o.createElement(o.Fragment,null,o.createElement(Et,null),o.createElement(wt,null)),w=e.title!==void 0&&e.title!==null,I=`${s}-body`;return o.createElement("div",{className:`${s}-body-wrapper`},o.createElement("div",{className:T(I,{[`${I}-has-title`]:w})},p,o.createElement("div",{className:`${s}-paragraph`},w&&o.createElement("span",{className:`${s}-title`},e.title),o.createElement("div",{className:`${s}-content`},e.content))),l===void 0||typeof l=="function"?o.createElement(an,{value:C},o.createElement("div",{className:`${s}-btns`},typeof l=="function"?l(b,{OkBtn:wt,CancelBtn:Et}):b)):l,o.createElement(xa,{prefixCls:t}))}const Sa=e=>{const{close:t,zIndex:n,maskStyle:r,direction:a,prefixCls:s,wrapClassName:u,rootPrefixCls:i,bodyStyle:l,closable:d=!1,onConfirm:c,styles:p}=e,h=`${s}-confirm`,g=e.width||416,x=e.style||{},v=e.mask===void 0?!0:e.mask,S=e.maskClosable===void 0?!1:e.maskClosable,y=T(h,`${h}-${e.type}`,{[`${h}-rtl`]:a==="rtl"},e.className),[,m]=Jn(),C=o.useMemo(()=>n!==void 0?n:m.zIndexPopupBase+vr,[n,m]);return o.createElement(cn,Object.assign({},e,{className:y,wrapClassName:T({[`${h}-centered`]:!!e.centered},u),onCancel:()=>{t?.({triggerCancel:!0}),c?.(!1)},title:"",footer:null,transitionName:Ie(i||"","zoom",e.transitionName),maskTransitionName:Ie(i||"","fade",e.maskTransitionName),mask:v,maskClosable:S,style:x,styles:Object.assign({body:l,mask:r},p),width:g,zIndex:C,closable:d}),o.createElement(un,Object.assign({},e,{confirmPrefixCls:h})))},dn=e=>{const{rootPrefixCls:t,iconPrefixCls:n,direction:r,theme:a}=e;return o.createElement(it,{prefixCls:t,iconPrefixCls:n,direction:r,theme:a},o.createElement(Sa,Object.assign({},e)))},he=[];let mn="";function fn(){return mn}const Na=e=>{var t,n;const{prefixCls:r,getContainer:a,direction:s}=e,u=Dt(),i=o.useContext(ue),l=fn()||i.getPrefixCls(),d=r||`${l}-modal`;let c=a;return c===!1&&(c=void 0),A.createElement(dn,Object.assign({},e,{rootPrefixCls:l,prefixCls:d,iconPrefixCls:i.iconPrefixCls,theme:i.theme,direction:s??i.direction,locale:(n=(t=i.locale)===null||t===void 0?void 0:t.Modal)!==null&&n!==void 0?n:u,getContainer:c}))};function ze(e){const t=tr(),n=document.createDocumentFragment();let r=Object.assign(Object.assign({},e),{close:l,open:!0}),a,s;function u(...c){var p;if(c.some(x=>x?.triggerCancel)){var g;(p=e.onCancel)===null||p===void 0||(g=p).call.apply(g,[e,()=>{}].concat(ge(c.slice(1))))}for(let x=0;x<he.length;x++)if(he[x]===l){he.splice(x,1);break}s()}function i(c){clearTimeout(a),a=setTimeout(()=>{const p=t.getPrefixCls(void 0,fn()),h=t.getIconPrefixCls(),g=t.getTheme(),x=A.createElement(Na,Object.assign({},c));s=er()(A.createElement(it,{prefixCls:p,iconPrefixCls:h,theme:g},t.holderRender?t.holderRender(x):x),n)})}function l(...c){r=Object.assign(Object.assign({},r),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),u.apply(this,c)}}),r.visible&&delete r.visible,i(r)}function d(c){typeof c=="function"?r=c(r):r=Object.assign(Object.assign({},r),c),i(r)}return i(r),he.push(l),{destroy:l,update:d}}function gn(e){return Object.assign(Object.assign({},e),{type:"warning"})}function pn(e){return Object.assign(Object.assign({},e),{type:"info"})}function hn(e){return Object.assign(Object.assign({},e),{type:"success"})}function vn(e){return Object.assign(Object.assign({},e),{type:"error"})}function bn(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function Oa({rootPrefixCls:e}){mn=e}var $a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Ea=(e,t)=>{var n,{afterClose:r,config:a}=e,s=$a(e,["afterClose","config"]);const[u,i]=o.useState(!0),[l,d]=o.useState(a),{direction:c,getPrefixCls:p}=o.useContext(ue),h=p("modal"),g=p(),x=()=>{var m;r(),(m=l.afterClose)===null||m===void 0||m.call(l)},v=(...m)=>{var C;if(i(!1),m.some(I=>I?.triggerCancel)){var w;(C=l.onCancel)===null||C===void 0||(w=C).call.apply(w,[l,()=>{}].concat(ge(m.slice(1))))}};o.useImperativeHandle(t,()=>({destroy:v,update:m=>{d(C=>{const b=typeof m=="function"?m(C):m;return Object.assign(Object.assign({},C),b)})}}));const S=(n=l.okCancel)!==null&&n!==void 0?n:l.type==="confirm",[y]=Ue("Modal",Vt.Modal);return o.createElement(dn,Object.assign({prefixCls:h,rootPrefixCls:g},l,{close:v,open:u,afterClose:x,okText:l.okText||(S?y?.okText:y?.justOkText),direction:l.direction||c,cancelText:l.cancelText||y?.cancelText},s))},wa=o.forwardRef(Ea);let zt=0;const ja=o.memo(o.forwardRef((e,t)=>{const[n,r]=ma();return o.useImperativeHandle(t,()=>({patchElement:r}),[]),o.createElement(o.Fragment,null,n)}));function Ia(){const e=o.useRef(null),[t,n]=o.useState([]);o.useEffect(()=>{t.length&&(ge(t).forEach(u=>{u()}),n([]))},[t]);const r=o.useCallback(s=>function(i){var l;zt+=1;const d=o.createRef();let c;const p=new Promise(S=>{c=S});let h=!1,g;const x=o.createElement(wa,{key:`modal-${zt}`,config:s(i),ref:d,afterClose:()=>{g?.()},isSilent:()=>h,onConfirm:S=>{c(S)}});return g=(l=e.current)===null||l===void 0?void 0:l.patchElement(x),g&&he.push(g),{destroy:()=>{function S(){var y;(y=d.current)===null||y===void 0||y.destroy()}d.current?S():n(y=>[].concat(ge(y),[S]))},update:S=>{function y(){var m;(m=d.current)===null||m===void 0||m.update(S)}d.current?y():n(m=>[].concat(ge(m),[y]))},then:S=>(h=!0,p.then(S))}},[]);return[o.useMemo(()=>({info:r(pn),success:r(hn),error:r(vn),warning:r(gn),confirm:r(bn)}),[]),o.createElement(ja,{key:"modal-holder",ref:e})]}const rt=o.createContext({}),Pa=e=>{const{antCls:t,componentCls:n,iconCls:r,avatarBg:a,avatarColor:s,containerSize:u,containerSizeLG:i,containerSizeSM:l,textFontSize:d,textFontSizeLG:c,textFontSizeSM:p,iconFontSize:h,iconFontSizeLG:g,iconFontSizeSM:x,borderRadius:v,borderRadiusLG:S,borderRadiusSM:y,lineWidth:m,lineType:C}=e,b=(w,I,E,B)=>({width:w,height:w,borderRadius:"50%",fontSize:I,[`&${n}-square`]:{borderRadius:B},[`&${n}-icon`]:{fontSize:E,[`> ${r}`]:{margin:0}}});return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},ye(e)),{position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",color:s,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:a,border:`${K(m)} ${C} transparent`,"&-image":{background:"transparent"},[`${t}-image-img`]:{display:"block"}}),b(u,d,h,v)),{"&-lg":Object.assign({},b(i,c,g,S)),"&-sm":Object.assign({},b(l,p,x,y)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},Ra=e=>{const{componentCls:t,groupBorderColor:n,groupOverlapping:r,groupSpace:a}=e;return{[`${t}-group`]:{display:"inline-flex",[t]:{borderColor:n},"> *:not(:first-child)":{marginInlineStart:r}},[`${t}-group-popover`]:{[`${t} + ${t}`]:{marginInlineStart:a}}}},za=e=>{const{controlHeight:t,controlHeightLG:n,controlHeightSM:r,fontSize:a,fontSizeLG:s,fontSizeXL:u,fontSizeHeading3:i,marginXS:l,marginXXS:d,colorBorderBg:c}=e;return{containerSize:t,containerSizeLG:n,containerSizeSM:r,textFontSize:a,textFontSizeLG:a,textFontSizeSM:a,iconFontSize:Math.round((s+u)/2),iconFontSizeLG:i,iconFontSizeSM:a,groupSpace:d,groupOverlapping:-l,groupBorderColor:c}},Cn=He("Avatar",e=>{const{colorTextLightSolid:t,colorTextPlaceholder:n}=e,r=Ge(e,{avatarBg:n,avatarColor:t});return[Pa(r),Ra(r)]},za);var Ma=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const xn=o.forwardRef((e,t)=>{const{prefixCls:n,shape:r,size:a,src:s,srcSet:u,icon:i,className:l,rootClassName:d,style:c,alt:p,draggable:h,children:g,crossOrigin:x,gap:v=4,onError:S}=e,y=Ma(e,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","style","alt","draggable","children","crossOrigin","gap","onError"]),[m,C]=o.useState(1),[b,w]=o.useState(!1),[I,E]=o.useState(!0),B=o.useRef(null),W=o.useRef(null),D=ot(t,B),{getPrefixCls:V,avatar:k}=o.useContext(ue),O=o.useContext(rt),G=()=>{if(!W.current||!B.current)return;const H=W.current.offsetWidth,L=B.current.offsetWidth;H!==0&&L!==0&&v*2<L&&C(L-v*2<H?(L-v*2)/H:1)};o.useEffect(()=>{w(!0)},[]),o.useEffect(()=>{E(!0),C(1)},[s]),o.useEffect(G,[v]);const Z=()=>{S?.()!==!1&&E(!1)},P=Qt(H=>{var L,J;return(J=(L=a??O?.size)!==null&&L!==void 0?L:H)!==null&&J!==void 0?J:"default"}),Y=Object.keys(typeof P=="object"?P||{}:{}).some(H=>["xs","sm","md","lg","xl","xxl"].includes(H)),F=Sr(Y),X=o.useMemo(()=>{if(typeof P!="object")return{};const H=Nr.find(J=>F[J]),L=P[H];return L?{width:L,height:L,fontSize:L&&(i||g)?L/2:18}:{}},[F,P]),R=V("avatar",n),_=Pe(R),[U,q,ee]=Cn(R,_),ne=T({[`${R}-lg`]:P==="large",[`${R}-sm`]:P==="small"}),me=o.isValidElement(s),fe=r||O?.shape||"circle",z=T(R,ne,k?.className,`${R}-${fe}`,{[`${R}-image`]:me||s&&I,[`${R}-icon`]:!!i},ee,_,l,d,q),ae=typeof P=="number"?{width:P,height:P,fontSize:i?P/2:18}:{};let oe;if(typeof s=="string"&&I)oe=o.createElement("img",{src:s,draggable:h,srcSet:u,onError:Z,alt:p,crossOrigin:x});else if(me)oe=s;else if(i)oe=i;else if(b||m!==1){const H=`scale(${m})`,L={msTransform:H,WebkitTransform:H,transform:H};oe=o.createElement(Or,{onResize:G},o.createElement("span",{className:`${R}-string`,ref:W,style:Object.assign({},L)},g))}else oe=o.createElement("span",{className:`${R}-string`,style:{opacity:0},ref:W},g);return U(o.createElement("span",Object.assign({},y,{style:Object.assign(Object.assign(Object.assign(Object.assign({},ae),X),k?.style),c),className:z,ref:D}),oe))}),We=e=>e?typeof e=="function"?e():e:null,Ta=e=>{const{componentCls:t,popoverColor:n,titleMinWidth:r,fontWeightStrong:a,innerPadding:s,boxShadowSecondary:u,colorTextHeading:i,borderRadiusLG:l,zIndexPopup:d,titleMarginBottom:c,colorBgElevated:p,popoverBg:h,titleBorderBottom:g,innerContentPadding:x,titlePadding:v}=e;return[{[t]:Object.assign(Object.assign({},ye(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:d,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":p,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${t}-content`]:{position:"relative"},[`${t}-inner`]:{backgroundColor:h,backgroundClip:"padding-box",borderRadius:l,boxShadow:u,padding:s},[`${t}-title`]:{minWidth:r,marginBottom:c,color:i,fontWeight:a,borderBottom:g,padding:v},[`${t}-inner-content`]:{color:n,padding:x}})},Er(e,"var(--antd-arrow-background-color)"),{[`${t}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",[`${t}-content`]:{display:"inline-block"}}}]},ka=e=>{const{componentCls:t}=e;return{[t]:wr.map(n=>{const r=e[`${n}6`];return{[`&${t}-${n}`]:{"--antd-arrow-background-color":r,[`${t}-inner`]:{backgroundColor:r},[`${t}-arrow`]:{background:"transparent"}}}})}},Ba=e=>{const{lineWidth:t,controlHeight:n,fontHeight:r,padding:a,wireframe:s,zIndexPopupBase:u,borderRadiusLG:i,marginXS:l,lineType:d,colorSplit:c,paddingSM:p}=e,h=n-r,g=h/2,x=h/2-t,v=a;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:u+30},jr(e)),Ir({contentRadius:i,limitVerticalRadius:!0})),{innerPadding:s?0:12,titleMarginBottom:s?0:l,titlePadding:s?`${g}px ${v}px ${x}px`:0,titleBorderBottom:s?`${t}px ${d} ${c}`:"none",innerContentPadding:s?`${p}px ${v}px`:0})},yn=He("Popover",e=>{const{colorBgElevated:t,colorText:n}=e,r=Ge(e,{popoverBg:t,popoverColor:n});return[Ta(r),ka(r),$r(r,"zoom-big")]},Ba,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var Fa=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Sn=({title:e,content:t,prefixCls:n})=>!e&&!t?null:o.createElement(o.Fragment,null,e&&o.createElement("div",{className:`${n}-title`},e),t&&o.createElement("div",{className:`${n}-inner-content`},t)),_a=e=>{const{hashId:t,prefixCls:n,className:r,style:a,placement:s="top",title:u,content:i,children:l}=e,d=We(u),c=We(i),p=T(t,n,`${n}-pure`,`${n}-placement-${s}`,r);return o.createElement("div",{className:p,style:a},o.createElement("div",{className:`${n}-arrow`}),o.createElement(Pr,Object.assign({},e,{className:t,prefixCls:n}),l||o.createElement(Sn,{prefixCls:n,title:d,content:c})))},Aa=e=>{const{prefixCls:t,className:n}=e,r=Fa(e,["prefixCls","className"]),{getPrefixCls:a}=o.useContext(ue),s=a("popover",t),[u,i,l]=yn(s);return u(o.createElement(_a,Object.assign({},r,{prefixCls:s,hashId:i,className:T(n,l)})))};var Va=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Da=o.forwardRef((e,t)=>{var n,r;const{prefixCls:a,title:s,content:u,overlayClassName:i,placement:l="top",trigger:d="hover",children:c,mouseEnterDelay:p=.1,mouseLeaveDelay:h=.1,onOpenChange:g,overlayStyle:x={},styles:v,classNames:S}=e,y=Va(e,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle","styles","classNames"]),{getPrefixCls:m,className:C,style:b,classNames:w,styles:I}=nr("popover"),E=m("popover",a),[B,W,D]=yn(E),V=m(),k=T(i,W,D,C,w.root,S?.root),O=T(w.body,S?.body),[G,Z]=Rr(!1,{value:(n=e.open)!==null&&n!==void 0?n:e.visible,defaultValue:(r=e.defaultOpen)!==null&&r!==void 0?r:e.defaultVisible}),P=(_,U)=>{Z(_,!0),g?.(_,U)},Y=_=>{_.keyCode===Mr.ESC&&P(!1,_)},F=_=>{P(_)},X=We(s),R=We(u);return B(o.createElement(zr,Object.assign({placement:l,trigger:d,mouseEnterDelay:p,mouseLeaveDelay:h},y,{prefixCls:E,classNames:{root:k,body:O},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},I.root),b),x),v?.root),body:Object.assign(Object.assign({},I.body),v?.body)},ref:t,open:G,onOpenChange:F,overlay:X||R?o.createElement(Sn,{prefixCls:E,title:X,content:R}):null,transitionName:Ie(V,"zoom-big",y.transitionName),"data-popover-inject":!0}),Lt(c,{onKeyDown:_=>{var U,q;o.isValidElement(c)&&((q=c==null?void 0:(U=c.props).onKeyDown)===null||q===void 0||q.call(U,_)),Y(_)}})))}),Nn=Da;Nn._InternalPanelDoNotUseOrYouWillBeFired=Aa;const Mt=e=>{const{size:t,shape:n}=o.useContext(rt),r=o.useMemo(()=>({size:e.size||t,shape:e.shape||n}),[e.size,e.shape,t,n]);return o.createElement(rt.Provider,{value:r},e.children)},La=e=>{var t,n,r,a;const{getPrefixCls:s,direction:u}=o.useContext(ue),{prefixCls:i,className:l,rootClassName:d,style:c,maxCount:p,maxStyle:h,size:g,shape:x,maxPopoverPlacement:v,maxPopoverTrigger:S,children:y,max:m}=e,C=s("avatar",i),b=`${C}-group`,w=Pe(C),[I,E,B]=Cn(C,w),W=T(b,{[`${b}-rtl`]:u==="rtl"},B,w,l,d,E),D=Tr(y).map((O,G)=>Lt(O,{key:`avatar-key-${G}`})),V=m?.count||p,k=D.length;if(V&&V<k){const O=D.slice(0,V),G=D.slice(V,k),Z=m?.style||h,P=((t=m?.popover)===null||t===void 0?void 0:t.trigger)||S||"hover",Y=((n=m?.popover)===null||n===void 0?void 0:n.placement)||v||"top",F=Object.assign(Object.assign({content:G},m?.popover),{classNames:{root:T(`${b}-popover`,(a=(r=m?.popover)===null||r===void 0?void 0:r.classNames)===null||a===void 0?void 0:a.root)},placement:Y,trigger:P});return O.push(o.createElement(Nn,Object.assign({key:"avatar-popover-key",destroyOnHidden:!0},F),o.createElement(xn,{style:Z},`+${k-V}`))),I(o.createElement(Mt,{shape:x,size:g},o.createElement("div",{className:W,style:c},O)))}return I(o.createElement(Mt,{shape:x,size:g},o.createElement("div",{className:W,style:c},D)))},On=xn;On.Group=La;var Wa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},Ha=function(t,n){return o.createElement(Se,ce({},t,{ref:n,icon:Wa}))},Ga=o.forwardRef(Ha);function at(){return typeof BigInt=="function"}function $n(e){return!e&&e!==0&&!Number.isNaN(e)||!String(e).trim()}function be(e){var t=e.trim(),n=t.startsWith("-");n&&(t=t.slice(1)),t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),t.startsWith(".")&&(t="0".concat(t));var r=t||"0",a=r.split("."),s=a[0]||"0",u=a[1]||"0";s==="0"&&u==="0"&&(n=!1);var i=n?"-":"";return{negative:n,negativeStr:i,trimStr:r,integerStr:s,decimalStr:u,fullStr:"".concat(i).concat(r)}}function dt(e){var t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function ve(e){var t=String(e);if(dt(e)){var n=Number(t.slice(t.indexOf("e-")+2)),r=t.match(/\.(\d+)/);return r!=null&&r[1]&&(n+=r[1].length),n}return t.includes(".")&&mt(t)?t.length-t.indexOf(".")-1:0}function Xe(e){var t=String(e);if(dt(e)){if(e>Number.MAX_SAFE_INTEGER)return String(at()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(at()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(ve(t))}return be(t).fullStr}function mt(e){return typeof e=="number"?!Number.isNaN(e):e?/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e):!1}var qa=(function(){function e(t){if(Ht(this,e),Q(this,"origin",""),Q(this,"negative",void 0),Q(this,"integer",void 0),Q(this,"decimal",void 0),Q(this,"decimalLen",void 0),Q(this,"empty",void 0),Q(this,"nan",void 0),$n(t)){this.empty=!0;return}if(this.origin=String(t),t==="-"||Number.isNaN(t)){this.nan=!0;return}var n=t;if(dt(n)&&(n=Number(n)),n=typeof n=="string"?n:Xe(n),mt(n)){var r=be(n);this.negative=r.negative;var a=r.trimStr.split(".");this.integer=BigInt(a[0]);var s=a[1]||"0";this.decimal=BigInt(s),this.decimalLen=s.length}else this.nan=!0}return Wt(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(n){var r="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(n,"0"));return BigInt(r)}},{key:"negate",value:function(){var n=new e(this.toString());return n.negative=!n.negative,n}},{key:"cal",value:function(n,r,a){var s=Math.max(this.getDecimalStr().length,n.getDecimalStr().length),u=this.alignDecimal(s),i=n.alignDecimal(s),l=r(u,i).toString(),d=a(s),c=be(l),p=c.negativeStr,h=c.trimStr,g="".concat(p).concat(h.padStart(d+1,"0"));return new e("".concat(g.slice(0,-d),".").concat(g.slice(-d)))}},{key:"add",value:function(n){if(this.isInvalidate())return new e(n);var r=new e(n);return r.isInvalidate()?this:this.cal(r,function(a,s){return a+s},function(a){return a})}},{key:"multi",value:function(n){var r=new e(n);return this.isInvalidate()||r.isInvalidate()?new e(NaN):this.cal(r,function(a,s){return a*s},function(a){return a*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toString()===n?.toString()}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":be("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e})(),Ua=(function(){function e(t){if(Ht(this,e),Q(this,"origin",""),Q(this,"number",void 0),Q(this,"empty",void 0),$n(t)){this.empty=!0;return}this.origin=String(t),this.number=Number(t)}return Wt(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(n){if(this.isInvalidate())return new e(n);var r=Number(n);if(Number.isNaN(r))return this;var a=this.number+r;if(a>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(a<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var s=Math.max(ve(this.number),ve(r));return new e(a.toFixed(s))}},{key:"multi",value:function(n){var r=Number(n);if(this.isInvalidate()||Number.isNaN(r))return new e(NaN);var a=this.number*r;if(a>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(a<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var s=Math.max(ve(this.number),ve(r));return new e(a.toFixed(s))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toNumber()===n?.toNumber()}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":Xe(this.number):this.origin}}]),e})();function re(e){return at()?new qa(e):new Ua(e)}function _e(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e==="")return"";var a=be(e),s=a.negativeStr,u=a.integerStr,i=a.decimalStr,l="".concat(t).concat(i),d="".concat(s).concat(u);if(n>=0){var c=Number(i[n]);if(c>=5&&!r){var p=re(e).add("".concat(s,"0.").concat("0".repeat(n)).concat(10-c));return _e(p.toString(),t,n,r)}return n===0?d:"".concat(d).concat(t).concat(i.padEnd(n,"0").slice(0,n))}return l===".0"?d:"".concat(d).concat(l)}function Ka(e,t){return typeof Proxy<"u"&&e?new Proxy(e,{get:function(r,a){if(t[a])return t[a];var s=r[a];return typeof s=="function"?s.bind(r):s}}):e}function Xa(e,t){var n=o.useRef(null);function r(){try{var s=e.selectionStart,u=e.selectionEnd,i=e.value,l=i.substring(0,s),d=i.substring(u);n.current={start:s,end:u,value:i,beforeTxt:l,afterTxt:d}}catch{}}function a(){if(e&&n.current&&t)try{var s=e.value,u=n.current,i=u.beforeTxt,l=u.afterTxt,d=u.start,c=s.length;if(s.startsWith(i))c=i.length;else if(s.endsWith(l))c=s.length-n.current.afterTxt.length;else{var p=i[d-1],h=s.indexOf(p,d-1);h!==-1&&(c=h+1)}e.setSelectionRange(c,c)}catch(g){rr(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(g.message))}}return[r,a]}var Qa=function(){var t=o.useState(!1),n=we(t,2),r=n[0],a=n[1];return ar(function(){a(kr())},[]),r},Ya=200,Za=600;function Ja(e){var t=e.prefixCls,n=e.upNode,r=e.downNode,a=e.upDisabled,s=e.downDisabled,u=e.onStep,i=o.useRef(),l=o.useRef([]),d=o.useRef();d.current=u;var c=function(){clearTimeout(i.current)},p=function(C,b){C.preventDefault(),c(),d.current(b);function w(){d.current(b),i.current=setTimeout(w,Ya)}i.current=setTimeout(w,Za)};o.useEffect(function(){return function(){c(),l.current.forEach(function(m){return Ae.cancel(m)})}},[]);var h=Qa();if(h)return null;var g="".concat(t,"-handler"),x=T(g,"".concat(g,"-up"),Q({},"".concat(g,"-up-disabled"),a)),v=T(g,"".concat(g,"-down"),Q({},"".concat(g,"-down-disabled"),s)),S=function(){return l.current.push(Ae(c))},y={unselectable:"on",role:"button",onMouseUp:S,onMouseLeave:S};return o.createElement("div",{className:"".concat(g,"-wrap")},o.createElement("span",ce({},y,{onMouseDown:function(C){p(C,!0)},"aria-label":"Increase Value","aria-disabled":a,className:x}),n||o.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-up-inner")})),o.createElement("span",ce({},y,{onMouseDown:function(C){p(C,!1)},"aria-label":"Decrease Value","aria-disabled":s,className:v}),r||o.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-down-inner")})))}function Tt(e){var t=typeof e=="number"?Xe(e):be(e).fullStr,n=t.includes(".");return n?be(t.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:e+"0"}const eo=(function(){var e=o.useRef(0),t=function(){Ae.cancel(e.current)};return o.useEffect(function(){return t},[]),function(n){t(),e.current=Ae(function(){n()})}});var to=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","changeOnWheel","controls","classNames","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep","changeOnBlur","domRef"],no=["disabled","style","prefixCls","value","prefix","suffix","addonBefore","addonAfter","className","classNames"],kt=function(t,n){return t||n.isEmpty()?n.toString():n.toNumber()},Bt=function(t){var n=re(t);return n.isInvalidate()?null:n},ro=o.forwardRef(function(e,t){var n=e.prefixCls,r=e.className,a=e.style,s=e.min,u=e.max,i=e.step,l=i===void 0?1:i,d=e.defaultValue,c=e.value,p=e.disabled,h=e.readOnly,g=e.upHandler,x=e.downHandler,v=e.keyboard,S=e.changeOnWheel,y=S===void 0?!1:S,m=e.controls,C=m===void 0?!0:m;e.classNames;var b=e.stringMode,w=e.parser,I=e.formatter,E=e.precision,B=e.decimalSeparator,W=e.onChange,D=e.onInput,V=e.onPressEnter,k=e.onStep,O=e.changeOnBlur,G=O===void 0?!0:O,Z=e.domRef,P=Gt(e,to),Y="".concat(n,"-input"),F=o.useRef(null),X=o.useState(!1),R=we(X,2),_=R[0],U=R[1],q=o.useRef(!1),ee=o.useRef(!1),ne=o.useRef(!1),me=o.useState(function(){return re(c??d)}),fe=we(me,2),z=fe[0],ae=fe[1];function oe($){c===void 0&&ae($)}var H=o.useCallback(function($,N){if(!N)return E>=0?E:Math.max(ve($),ve(l))},[E,l]),L=o.useCallback(function($){var N=String($);if(w)return w(N);var M=N;return B&&(M=M.replace(B,".")),M.replace(/[^\w.-]+/g,"")},[w,B]),J=o.useRef(""),Me=o.useCallback(function($,N){if(I)return I($,{userTyping:N,input:String(J.current)});var M=typeof $=="number"?Xe($):$;if(!N){var j=H(M,N);if(mt(M)&&(B||j>=0)){var le=B||".";M=_e(M,le,j)}}return M},[I,H,B]),se=o.useState(function(){var $=d??c;return z.isInvalidate()&&["string","number"].includes(or($))?Number.isNaN($)?"":$:Me(z.toString(),!1)}),Ne=we(se,2),ie=Ne[0],ht=Ne[1];J.current=ie;function Oe($,N){ht(Me($.isInvalidate()?$.toString(!1):$.toString(!N),N))}var Ce=o.useMemo(function(){return Bt(u)},[u,E]),xe=o.useMemo(function(){return Bt(s)},[s,E]),vt=o.useMemo(function(){return!Ce||!z||z.isInvalidate()?!1:Ce.lessEquals(z)},[Ce,z]),bt=o.useMemo(function(){return!xe||!z||z.isInvalidate()?!1:z.lessEquals(xe)},[xe,z]),Fn=Xa(F.current,_),Ct=we(Fn,2),_n=Ct[0],An=Ct[1],xt=function(N){return Ce&&!N.lessEquals(Ce)?Ce:xe&&!xe.lessEquals(N)?xe:null},Qe=function(N){return!xt(N)},Te=function(N,M){var j=N,le=Qe(j)||j.isEmpty();if(!j.isEmpty()&&!M&&(j=xt(j)||j,le=!0),!h&&!p&&le){var $e=j.toString(),Ze=H($e,M);return Ze>=0&&(j=re(_e($e,".",Ze)),Qe(j)||(j=re(_e($e,".",Ze,!0)))),j.equals(z)||(oe(j),W?.(j.isEmpty()?null:kt(b,j)),c===void 0&&Oe(j,M)),j}return z},Vn=eo(),yt=function $(N){if(_n(),J.current=N,ht(N),!ee.current){var M=L(N),j=re(M);j.isNaN()||Te(j,!0)}D?.(N),Vn(function(){var le=N;w||(le=N.replace(/。/g,".")),le!==N&&$(le)})},Dn=function(){ee.current=!0},Ln=function(){ee.current=!1,yt(F.current.value)},Wn=function(N){yt(N.target.value)},Ye=function(N){var M;if(!(N&&vt||!N&&bt)){q.current=!1;var j=re(ne.current?Tt(l):l);N||(j=j.negate());var le=(z||re(0)).add(j.toString()),$e=Te(le,!1);k?.(kt(b,$e),{offset:ne.current?Tt(l):l,type:N?"up":"down"}),(M=F.current)===null||M===void 0||M.focus()}},St=function(N){var M=re(L(ie)),j;M.isNaN()?j=Te(z,N):j=Te(M,N),c!==void 0?Oe(z,!1):j.isNaN()||Oe(j,!1)},Hn=function(){q.current=!0},Gn=function(N){var M=N.key,j=N.shiftKey;q.current=!0,ne.current=j,M==="Enter"&&(ee.current||(q.current=!1),St(!1),V?.(N)),v!==!1&&!ee.current&&["Up","ArrowUp","Down","ArrowDown"].includes(M)&&(Ye(M==="Up"||M==="ArrowUp"),N.preventDefault())},qn=function(){q.current=!1,ne.current=!1};o.useEffect(function(){if(y&&_){var $=function(j){Ye(j.deltaY<0),j.preventDefault()},N=F.current;if(N)return N.addEventListener("wheel",$,{passive:!1}),function(){return N.removeEventListener("wheel",$)}}});var Un=function(){G&&St(!1),U(!1),q.current=!1};return Je(function(){z.isInvalidate()||Oe(z,!1)},[E,I]),Je(function(){var $=re(c);ae($);var N=re(L(ie));(!$.equals(N)||!q.current||I)&&Oe($,q.current)},[c]),Je(function(){I&&An()},[ie]),o.createElement("div",{ref:Z,className:T(n,r,Q(Q(Q(Q(Q({},"".concat(n,"-focused"),_),"".concat(n,"-disabled"),p),"".concat(n,"-readonly"),h),"".concat(n,"-not-a-number"),z.isNaN()),"".concat(n,"-out-of-range"),!z.isInvalidate()&&!Qe(z))),style:a,onFocus:function(){U(!0)},onBlur:Un,onKeyDown:Gn,onKeyUp:qn,onCompositionStart:Dn,onCompositionEnd:Ln,onBeforeInput:Hn},C&&o.createElement(Ja,{prefixCls:n,upNode:g,downNode:x,upDisabled:vt,downDisabled:bt,onStep:Ye}),o.createElement("div",{className:"".concat(Y,"-wrap")},o.createElement("input",ce({autoComplete:"off",role:"spinbutton","aria-valuemin":s,"aria-valuemax":u,"aria-valuenow":z.isInvalidate()?null:z.toString(),step:l},P,{ref:ot(F,t),className:Y,value:ie,onChange:Wn,disabled:p,readOnly:h}))))}),ao=o.forwardRef(function(e,t){var n=e.disabled,r=e.style,a=e.prefixCls,s=a===void 0?"rc-input-number":a,u=e.value,i=e.prefix,l=e.suffix,d=e.addonBefore,c=e.addonAfter,p=e.className,h=e.classNames,g=Gt(e,no),x=o.useRef(null),v=o.useRef(null),S=o.useRef(null),y=function(C){S.current&&Fr(S.current,C)};return o.useImperativeHandle(t,function(){return Ka(S.current,{focus:y,nativeElement:x.current.nativeElement||v.current})}),o.createElement(Br,{className:p,triggerFocus:y,prefixCls:s,value:u,disabled:n,style:r,prefix:i,suffix:l,addonAfter:c,addonBefore:d,classNames:h,components:{affixWrapper:"div",groupWrapper:"div",wrapper:"div",groupAddon:"div"},ref:x},o.createElement(ro,ce({prefixCls:s,disabled:n,ref:S,domRef:v,className:h?.input},g)))});const oo=e=>{var t;const n=(t=e.handleVisible)!==null&&t!==void 0?t:"auto",r=e.controlHeightSM-e.lineWidth*2;return Object.assign(Object.assign({},_r(e)),{controlWidth:90,handleWidth:r,handleFontSize:e.fontSize/2,handleVisible:n,handleActiveBg:e.colorFillAlter,handleBg:e.colorBgContainer,filledHandleBg:new qt(e.colorFillSecondary).onBackground(e.colorBgContainer).toHexString(),handleHoverColor:e.colorPrimary,handleBorderColor:e.colorBorder,handleOpacity:n===!0?1:0,handleVisibleWidth:n===!0?r:0})},Ft=({componentCls:e,borderRadiusSM:t,borderRadiusLG:n},r)=>{const a=r==="lg"?n:t;return{[`&-${r}`]:{[`${e}-handler-wrap`]:{borderStartEndRadius:a,borderEndEndRadius:a},[`${e}-handler-up`]:{borderStartEndRadius:a},[`${e}-handler-down`]:{borderEndEndRadius:a}}}},so=e=>{const{componentCls:t,lineWidth:n,lineType:r,borderRadius:a,inputFontSizeSM:s,inputFontSizeLG:u,controlHeightLG:i,controlHeightSM:l,colorError:d,paddingInlineSM:c,paddingBlockSM:p,paddingBlockLG:h,paddingInlineLG:g,colorIcon:x,motionDurationMid:v,handleHoverColor:S,handleOpacity:y,paddingInline:m,paddingBlock:C,handleBg:b,handleActiveBg:w,colorTextDisabled:I,borderRadiusSM:E,borderRadiusLG:B,controlWidth:W,handleBorderColor:D,filledHandleBg:V,lineHeightLG:k,calc:O}=e;return[{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ye(e)),Yt(e)),{display:"inline-block",width:W,margin:0,padding:0,borderRadius:a}),Dr(e,{[`${t}-handler-wrap`]:{background:b,[`${t}-handler-down`]:{borderBlockStart:`${K(n)} ${r} ${D}`}}})),Lr(e,{[`${t}-handler-wrap`]:{background:V,[`${t}-handler-down`]:{borderBlockStart:`${K(n)} ${r} ${D}`}},"&:focus-within":{[`${t}-handler-wrap`]:{background:b}}})),Wr(e,{[`${t}-handler-wrap`]:{background:b,[`${t}-handler-down`]:{borderBlockStart:`${K(n)} ${r} ${D}`}}})),Hr(e)),{"&-rtl":{direction:"rtl",[`${t}-input`]:{direction:"rtl"}},"&-lg":{padding:0,fontSize:u,lineHeight:k,borderRadius:B,[`input${t}-input`]:{height:O(i).sub(O(n).mul(2)).equal(),padding:`${K(h)} ${K(g)}`}},"&-sm":{padding:0,fontSize:s,borderRadius:E,[`input${t}-input`]:{height:O(l).sub(O(n).mul(2)).equal(),padding:`${K(p)} ${K(c)}`}},"&-out-of-range":{[`${t}-input-wrap`]:{input:{color:d}}},"&-group":Object.assign(Object.assign(Object.assign({},ye(e)),qr(e)),{"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",textAlign:"start",verticalAlign:"top",[`${t}-affix-wrapper`]:{width:"100%"},"&-lg":{[`${t}-group-addon`]:{borderRadius:B,fontSize:e.fontSizeLG}},"&-sm":{[`${t}-group-addon`]:{borderRadius:E}}},Ur(e)),Kr(e)),{[`&:not(${t}-compact-first-item):not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}, ${t}-group-addon`]:{borderRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-first-item`]:{[`${t}, ${t}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-last-item`]:{[`${t}, ${t}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})}),[`&-disabled ${t}-input`]:{cursor:"not-allowed"},[t]:{"&-input":Object.assign(Object.assign(Object.assign(Object.assign({},ye(e)),{width:"100%",padding:`${K(C)} ${K(m)}`,textAlign:"start",backgroundColor:"transparent",border:0,borderRadius:a,outline:0,transition:`all ${v} linear`,appearance:"textfield",fontSize:"inherit"}),Gr(e.colorTextPlaceholder)),{'&[type="number"]::-webkit-inner-spin-button, &[type="number"]::-webkit-outer-spin-button':{margin:0,appearance:"none"}})},[`&:hover ${t}-handler-wrap, &-focused ${t}-handler-wrap`]:{width:e.handleWidth,opacity:1}})},{[t]:Object.assign(Object.assign(Object.assign({[`${t}-handler-wrap`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,width:e.handleVisibleWidth,opacity:y,height:"100%",borderStartStartRadius:0,borderStartEndRadius:a,borderEndEndRadius:a,borderEndStartRadius:0,display:"flex",flexDirection:"column",alignItems:"stretch",transition:`all ${v}`,overflow:"hidden",[`${t}-handler`]:{display:"flex",alignItems:"center",justifyContent:"center",flex:"auto",height:"40%",[`
              ${t}-handler-up-inner,
              ${t}-handler-down-inner
            `]:{marginInlineEnd:0,fontSize:e.handleFontSize}}},[`${t}-handler`]:{height:"50%",overflow:"hidden",color:x,fontWeight:"bold",lineHeight:0,textAlign:"center",cursor:"pointer",borderInlineStart:`${K(n)} ${r} ${D}`,transition:`all ${v} linear`,"&:active":{background:w},"&:hover":{height:"60%",[`
              ${t}-handler-up-inner,
              ${t}-handler-down-inner
            `]:{color:S}},"&-up-inner, &-down-inner":Object.assign(Object.assign({},sr()),{color:x,transition:`all ${v} linear`,userSelect:"none"})},[`${t}-handler-up`]:{borderStartEndRadius:a},[`${t}-handler-down`]:{borderEndEndRadius:a}},Ft(e,"lg")),Ft(e,"sm")),{"&-disabled, &-readonly":{[`${t}-handler-wrap`]:{display:"none"},[`${t}-input`]:{color:"inherit"}},[`
          ${t}-handler-up-disabled,
          ${t}-handler-down-disabled
        `]:{cursor:"not-allowed"},[`
          ${t}-handler-up-disabled:hover &-handler-up-inner,
          ${t}-handler-down-disabled:hover &-handler-down-inner
        `]:{color:I}})}]},io=e=>{const{componentCls:t,paddingBlock:n,paddingInline:r,inputAffixPadding:a,controlWidth:s,borderRadiusLG:u,borderRadiusSM:i,paddingInlineLG:l,paddingInlineSM:d,paddingBlockLG:c,paddingBlockSM:p,motionDurationMid:h}=e;return{[`${t}-affix-wrapper`]:Object.assign(Object.assign({[`input${t}-input`]:{padding:`${K(n)} 0`}},Yt(e)),{position:"relative",display:"inline-flex",alignItems:"center",width:s,padding:0,paddingInlineStart:r,"&-lg":{borderRadius:u,paddingInlineStart:l,[`input${t}-input`]:{padding:`${K(c)} 0`}},"&-sm":{borderRadius:i,paddingInlineStart:d,[`input${t}-input`]:{padding:`${K(p)} 0`}},[`&:not(${t}-disabled):hover`]:{zIndex:1},"&-focused, &:focus":{zIndex:1},[`&-disabled > ${t}-disabled`]:{background:"transparent"},[`> div${t}`]:{width:"100%",border:"none",outline:"none",[`&${t}-focused`]:{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${t}-handler-wrap`]:{zIndex:2},[t]:{position:"static",color:"inherit","&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center",pointerEvents:"none"},"&-prefix":{marginInlineEnd:a},"&-suffix":{insetBlockStart:0,insetInlineEnd:0,height:"100%",marginInlineEnd:r,marginInlineStart:a,transition:`margin ${h}`}},[`&:hover ${t}-handler-wrap, &-focused ${t}-handler-wrap`]:{width:e.handleWidth,opacity:1},[`&:not(${t}-affix-wrapper-without-controls):hover ${t}-suffix`]:{marginInlineEnd:e.calc(e.handleWidth).add(r).equal()}}),[`${t}-underlined`]:{borderRadius:0}}},lo=He("InputNumber",e=>{const t=Ge(e,Ar(e));return[so(t),io(t),Vr(t)]},oo,{unitless:{handleOpacity:!0},resetFont:!1});var co=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const En=o.forwardRef((e,t)=>{const{getPrefixCls:n,direction:r}=o.useContext(ue),a=o.useRef(null);o.useImperativeHandle(t,()=>a.current);const{className:s,rootClassName:u,size:i,disabled:l,prefixCls:d,addonBefore:c,addonAfter:p,prefix:h,suffix:g,bordered:x,readOnly:v,status:S,controls:y,variant:m}=e,C=co(e,["className","rootClassName","size","disabled","prefixCls","addonBefore","addonAfter","prefix","suffix","bordered","readOnly","status","controls","variant"]),b=n("input-number",d),w=Pe(b),[I,E,B]=lo(b,w),{compactSize:W,compactItemClassnames:D}=Xr(b,r);let V=o.createElement(Ga,{className:`${b}-handler-up-inner`}),k=o.createElement(la,{className:`${b}-handler-down-inner`});const O=typeof y=="boolean"?y:void 0;typeof y=="object"&&(V=typeof y.upIcon>"u"?V:o.createElement("span",{className:`${b}-handler-up-inner`},y.upIcon),k=typeof y.downIcon>"u"?k:o.createElement("span",{className:`${b}-handler-down-inner`},y.downIcon));const{hasFeedback:G,status:Z,isFormItemInput:P,feedbackIcon:Y}=o.useContext(Qr),F=Zr(Z,S),X=Qt(z=>{var ae;return(ae=i??W)!==null&&ae!==void 0?ae:z}),R=o.useContext(ir),_=l??R,[U,q]=Yr("inputNumber",m,x),ee=G&&o.createElement(o.Fragment,null,Y),ne=T({[`${b}-lg`]:X==="large",[`${b}-sm`]:X==="small",[`${b}-rtl`]:r==="rtl",[`${b}-in-form-item`]:P},E),me=`${b}-group`,fe=o.createElement(ao,Object.assign({ref:a,disabled:_,className:T(B,w,s,u,D),upHandler:V,downHandler:k,prefixCls:b,readOnly:v,controls:O,prefix:h,suffix:ee||g,addonBefore:c&&o.createElement(tt,{form:!0,space:!0},c),addonAfter:p&&o.createElement(tt,{form:!0,space:!0},p),classNames:{input:ne,variant:T({[`${b}-${U}`]:q},Nt(b,F,G)),affixWrapper:T({[`${b}-affix-wrapper-sm`]:X==="small",[`${b}-affix-wrapper-lg`]:X==="large",[`${b}-affix-wrapper-rtl`]:r==="rtl",[`${b}-affix-wrapper-without-controls`]:y===!1||_||v},E),wrapper:T({[`${me}-rtl`]:r==="rtl"},E),groupWrapper:T({[`${b}-group-wrapper-sm`]:X==="small",[`${b}-group-wrapper-lg`]:X==="large",[`${b}-group-wrapper-rtl`]:r==="rtl",[`${b}-group-wrapper-${U}`]:q},Nt(`${b}-group-wrapper`,F,G),E)}},C));return I(fe)}),wn=En,uo=e=>o.createElement(it,{theme:{components:{InputNumber:{handleVisible:!0}}}},o.createElement(En,Object.assign({},e)));wn._InternalPanelDoNotUseOrYouWillBeFired=uo;var mo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const fo=e=>{const{prefixCls:t,className:n,closeIcon:r,closable:a,type:s,title:u,children:i,footer:l}=e,d=mo(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:c}=o.useContext(ue),p=c(),h=t||c("modal"),g=Pe(p),[x,v,S]=nn(h,g),y=`${h}-confirm`;let m={};return s?m={closable:a??!1,title:"",footer:"",children:o.createElement(un,Object.assign({},e,{prefixCls:h,confirmPrefixCls:y,rootPrefixCls:p,content:i}))}:m={closable:a??!0,title:u,footer:l!==null&&o.createElement(ln,Object.assign({},e)),children:i},x(o.createElement(ua,Object.assign({prefixCls:h,className:T(v,`${h}-pure-panel`,s&&y,s&&`${y}-${s}`,n,S,g)},d,{closeIcon:sn(h,r),closable:a},m)))},go=ca(fo);function jn(e){return ze(gn(e))}const te=cn;te.useModal=Ia;te.info=function(t){return ze(pn(t))};te.success=function(t){return ze(hn(t))};te.error=function(t){return ze(vn(t))};te.warning=jn;te.warn=jn;te.confirm=function(t){return ze(bn(t))};te.destroyAll=function(){for(;he.length;){const t=he.pop();t&&t()}};te.config=Oa;te._InternalPanelDoNotUseOrYouWillBeFired=go;var po={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M573 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40zm-280 0c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40z"}},{tag:"path",attrs:{d:"M894 345a343.92 343.92 0 00-189-130v.1c-17.1-19-36.4-36.5-58-52.1-163.7-119-393.5-82.7-513 81-96.3 133-92.2 311.9 6 439l.8 132.6c0 3.2.5 6.4 1.5 9.4a31.95 31.95 0 0040.1 20.9L309 806c33.5 11.9 68.1 18.7 102.5 20.6l-.5.4c89.1 64.9 205.9 84.4 313 49l127.1 41.4c3.2 1 6.5 1.6 9.9 1.6 17.7 0 32-14.3 32-32V753c88.1-119.6 90.4-284.9 1-408zM323 735l-12-5-99 31-1-104-8-9c-84.6-103.2-90.2-251.9-11-361 96.4-132.2 281.2-161.4 413-66 132.2 96.1 161.5 280.6 66 412-80.1 109.9-223.5 150.5-348 102zm505-17l-8 10 1 104-98-33-12 5c-56 20.8-115.7 22.5-171 7l-.2-.1A367.31 367.31 0 00729 676c76.4-105.3 88.8-237.6 44.4-350.4l.6.4c23 16.5 44.1 37.1 62 62 72.6 99.6 68.5 235.2-8 330z"}},{tag:"path",attrs:{d:"M433 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40z"}}]},name:"comment",theme:"outlined"},ho=function(t,n){return o.createElement(Se,ce({},t,{ref:n,icon:po}))},vo=o.forwardRef(ho),bo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M608 112c-167.9 0-304 136.1-304 304 0 70.3 23.9 135 63.9 186.5l-41.1 41.1-62.3-62.3a8.15 8.15 0 00-11.4 0l-39.8 39.8a8.15 8.15 0 000 11.4l62.3 62.3-44.9 44.9-62.3-62.3a8.15 8.15 0 00-11.4 0l-39.8 39.8a8.15 8.15 0 000 11.4l62.3 62.3-65.3 65.3a8.03 8.03 0 000 11.3l42.3 42.3c3.1 3.1 8.2 3.1 11.3 0l253.6-253.6A304.06 304.06 0 00608 720c167.9 0 304-136.1 304-304S775.9 112 608 112zm161.2 465.2C726.2 620.3 668.9 644 608 644c-60.9 0-118.2-23.7-161.2-66.8-43.1-43-66.8-100.3-66.8-161.2 0-60.9 23.7-118.2 66.8-161.2 43-43.1 100.3-66.8 161.2-66.8 60.9 0 118.2 23.7 161.2 66.8 43.1 43 66.8 100.3 66.8 161.2 0 60.9-23.7 118.2-66.8 161.2z"}}]},name:"key",theme:"outlined"},Co=function(t,n){return o.createElement(Se,ce({},t,{ref:n,icon:bo}))},In=o.forwardRef(Co),xo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 512a48 48 0 1096 0 48 48 0 10-96 0zm200 0a48 48 0 1096 0 48 48 0 10-96 0zm-400 0a48 48 0 1096 0 48 48 0 10-96 0zm661.2-173.6c-22.6-53.7-55-101.9-96.3-143.3a444.35 444.35 0 00-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6.3-119.3 12.3-174.5 35.9a445.35 445.35 0 00-142 96.5c-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9A449.4 449.4 0 00112 714v152a46 46 0 0046 46h152.1A449.4 449.4 0 00510 960h2.1c59.9 0 118-11.6 172.7-34.3a444.48 444.48 0 00142.8-95.2c41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5.3-60.9-11.5-120-34.8-175.6zm-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-.6 99.6-39.7 192.9-110.1 262.7z"}}]},name:"message",theme:"outlined"},yo=function(t,n){return o.createElement(Se,ce({},t,{ref:n,icon:xo}))},So=o.forwardRef(yo),No={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M824.2 699.9a301.55 301.55 0 00-86.4-60.4C783.1 602.8 812 546.8 812 484c0-110.8-92.4-201.7-203.2-200-109.1 1.7-197 90.6-197 200 0 62.8 29 118.8 74.2 155.5a300.95 300.95 0 00-86.4 60.4C345 754.6 314 826.8 312 903.8a8 8 0 008 8.2h56c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5A226.62 226.62 0 01612 684c60.9 0 118.2 23.7 161.3 66.8C814.5 792 838 846.3 840 904.3c.1 4.3 3.7 7.7 8 7.7h56a8 8 0 008-8.2c-2-77-33-149.2-87.8-203.9zM612 612c-34.2 0-66.4-13.3-90.5-37.5a126.86 126.86 0 01-37.5-91.8c.3-32.8 13.4-64.5 36.3-88 24-24.6 56.1-38.3 90.4-38.7 33.9-.3 66.8 12.9 91 36.6 24.8 24.3 38.4 56.8 38.4 91.4 0 34.2-13.3 66.3-37.5 90.5A127.3 127.3 0 01612 612zM361.5 510.4c-.9-8.7-1.4-17.5-1.4-26.4 0-15.9 1.5-31.4 4.3-46.5.7-3.6-1.2-7.3-4.5-8.8-13.6-6.1-26.1-14.5-36.9-25.1a127.54 127.54 0 01-38.7-95.4c.9-32.1 13.8-62.6 36.3-85.6 24.7-25.3 57.9-39.1 93.2-38.7 31.9.3 62.7 12.6 86 34.4 7.9 7.4 14.7 15.6 20.4 24.4 2 3.1 5.9 4.4 9.3 3.2 17.6-6.1 36.2-10.4 55.3-12.4 5.6-.6 8.8-6.6 6.3-11.6-32.5-64.3-98.9-108.7-175.7-109.9-110.9-1.7-203.3 89.2-203.3 199.9 0 62.8 28.9 118.8 74.2 155.5-31.8 14.7-61.1 35-86.5 60.4-54.8 54.7-85.8 126.9-87.8 204a8 8 0 008 8.2h56.1c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5 29.4-29.4 65.4-49.8 104.7-59.7 3.9-1 6.5-4.7 6-8.7z"}}]},name:"team",theme:"outlined"},Oo=function(t,n){return o.createElement(Se,ce({},t,{ref:n,icon:No}))},$o=o.forwardRef(Oo),Eo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M892 772h-80v-80c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v80h-80c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h80v80c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-80h80c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM373.5 498.4c-.9-8.7-1.4-17.5-1.4-26.4 0-15.9 1.5-31.4 4.3-46.5.7-3.6-1.2-7.3-4.5-8.8-13.6-6.1-26.1-14.5-36.9-25.1a127.54 127.54 0 01-38.7-95.4c.9-32.1 13.8-62.6 36.3-85.6 24.7-25.3 57.9-39.1 93.2-38.7 31.9.3 62.7 12.6 86 34.4 7.9 7.4 14.7 15.6 20.4 24.4 2 3.1 5.9 4.4 9.3 3.2 17.6-6.1 36.2-10.4 55.3-12.4 5.6-.6 8.8-6.6 6.3-11.6-32.5-64.3-98.9-108.7-175.7-109.9-110.8-1.7-203.2 89.2-203.2 200 0 62.8 28.9 118.8 74.2 155.5-31.8 14.7-61.1 35-86.5 60.4-54.8 54.7-85.8 126.9-87.8 204a8 8 0 008 8.2h56.1c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5 29.4-29.4 65.4-49.8 104.7-59.7 3.8-1.1 6.4-4.8 5.9-8.8zM824 472c0-109.4-87.9-198.3-196.9-200C516.3 270.3 424 361.2 424 472c0 62.8 29 118.8 74.2 155.5a300.95 300.95 0 00-86.4 60.4C357 742.6 326 814.8 324 891.8a8 8 0 008 8.2h56c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5C505.8 695.7 563 672 624 672c110.4 0 200-89.5 200-200zm-109.5 90.5C690.3 586.7 658.2 600 624 600s-66.3-13.3-90.5-37.5a127.26 127.26 0 01-37.5-91.8c.3-32.8 13.4-64.5 36.3-88 24-24.6 56.1-38.3 90.4-38.7 33.9-.3 66.8 12.9 91 36.6 24.8 24.3 38.4 56.8 38.4 91.4-.1 34.2-13.4 66.3-37.6 90.5z"}}]},name:"usergroup-add",theme:"outlined"},wo=function(t,n){return o.createElement(Se,ce({},t,{ref:n,icon:Eo}))},jo=o.forwardRef(wo);const Io=e=>{const{paddingXXS:t,lineWidth:n,tagPaddingHorizontal:r,componentCls:a,calc:s}=e,u=s(r).sub(n).equal(),i=s(t).sub(n).equal();return{[a]:Object.assign(Object.assign({},ye(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:u,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${K(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${a}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${a}-close-icon`]:{marginInlineStart:i,fontSize:e.tagIconSize,color:e.colorIcon,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${a}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${a}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:u}}),[`${a}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},ft=e=>{const{lineWidth:t,fontSizeIcon:n,calc:r}=e,a=e.fontSizeSM;return Ge(e,{tagFontSize:a,tagLineHeight:K(r(e.lineHeightSM).mul(a).equal()),tagIconSize:r(n).sub(r(t).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},gt=e=>({defaultBg:new qt(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText}),Pn=He("Tag",e=>{const t=ft(e);return Io(t)},gt);var Po=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Ro=o.forwardRef((e,t)=>{const{prefixCls:n,style:r,className:a,checked:s,children:u,icon:i,onChange:l,onClick:d}=e,c=Po(e,["prefixCls","style","className","checked","children","icon","onChange","onClick"]),{getPrefixCls:p,tag:h}=o.useContext(ue),g=C=>{l?.(!s),d?.(C)},x=p("tag",n),[v,S,y]=Pn(x),m=T(x,`${x}-checkable`,{[`${x}-checkable-checked`]:s},h?.className,a,S,y);return v(o.createElement("span",Object.assign({},c,{ref:t,style:Object.assign(Object.assign({},r),h?.style),className:m,onClick:g}),i,o.createElement("span",null,u)))}),zo=e=>Jr(e,(t,{textColor:n,lightBorderColor:r,lightColor:a,darkColor:s})=>({[`${e.componentCls}${e.componentCls}-${t}`]:{color:n,background:a,borderColor:r,"&-inverse":{color:e.colorTextLightSolid,background:s,borderColor:s},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}})),Mo=st(["Tag","preset"],e=>{const t=ft(e);return zo(t)},gt);function To(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}const ke=(e,t,n)=>{const r=To(n);return{[`${e.componentCls}${e.componentCls}-${t}`]:{color:e[`color${n}`],background:e[`color${r}Bg`],borderColor:e[`color${r}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}},ko=st(["Tag","status"],e=>{const t=ft(e);return[ke(t,"success","Success"),ke(t,"processing","Info"),ke(t,"error","Error"),ke(t,"warning","Warning")]},gt);var Bo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Fo=o.forwardRef((e,t)=>{const{prefixCls:n,className:r,rootClassName:a,style:s,children:u,icon:i,color:l,onClose:d,bordered:c=!0,visible:p}=e,h=Bo(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:g,direction:x,tag:v}=o.useContext(ue),[S,y]=o.useState(!0),m=ea(h,["closeIcon","closable"]);o.useEffect(()=>{p!==void 0&&y(p)},[p]);const C=ta(l),b=na(l),w=C||b,I=Object.assign(Object.assign({backgroundColor:l&&!w?l:void 0},v?.style),s),E=g("tag",n),[B,W,D]=Pn(E),V=T(E,v?.className,{[`${E}-${l}`]:w,[`${E}-has-color`]:l&&!w,[`${E}-hidden`]:!S,[`${E}-rtl`]:x==="rtl",[`${E}-borderless`]:!c},r,a,W,D),k=F=>{F.stopPropagation(),d?.(F),!F.defaultPrevented&&y(!1)},[,O]=on(Le(e),Le(v),{closable:!1,closeIconRender:F=>{const X=o.createElement("span",{className:`${E}-close-icon`,onClick:k},F);return lr(F,X,R=>({onClick:_=>{var U;(U=R?.onClick)===null||U===void 0||U.call(R,_),k(_)},className:T(R?.className,`${E}-close-icon`)}))}}),G=typeof h.onClick=="function"||u&&u.type==="a",Z=i||null,P=Z?o.createElement(o.Fragment,null,Z,u&&o.createElement("span",null,u)):u,Y=o.createElement("span",Object.assign({},m,{ref:t,className:V,style:I}),P,O,C&&o.createElement(Mo,{key:"preset",prefixCls:E}),b&&o.createElement(ko,{key:"status",prefixCls:E}));return B(G?o.createElement(ra,{component:"Tag"},Y):Y)}),Rn=Fo;Rn.CheckableTag=Ro;const zn=o.createContext(null),_o=o.memo(({children:e,...t})=>f.jsx(zn.Provider,{value:t,children:e})),Ao=()=>{const e=o.useContext(zn);if(!e)throw new Error("useGetAllChatsContract must be used within a GetAllChatsContractProvider");return e},Vo=({chat:e,ActionSlot:t})=>f.jsx(qe,{className:"bg-gray-800 border-gray-700",children:f.jsx("div",{className:"flex justify-between items-start",children:f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center mb-2",children:[f.jsx("h3",{className:"text-white text-lg font-semibold mr-2",children:e.name}),f.jsxs(Rn,{color:"blue",className:"bg-blue-900/20 border-blue-700 text-blue-300",children:[f.jsx($o,{className:"mr-1"}),e.maxUsers," макс."]})]}),e.description&&f.jsx("p",{className:"text-gray-300 mb-3 line-clamp-2",children:e.description}),f.jsxs("div",{className:"flex items-start gap-2 md:flex-row flex-col justify-between text-sm text-gray-400",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(On,{size:"small",icon:f.jsx(fr,{}),className:"mr-2"}),f.jsxs("span",{children:["Создатель: ",e?.owner?.username]})]}),f.jsx("div",{children:f.jsxs("span",{children:["Создан: ",new Date(e.createdAt).toLocaleDateString()]})})]}),t&&f.jsx(t,{chat:e})]})})}),Do=o.memo(Vo),Lo=({useContract:e=Ao,ActionSlot:t})=>{const{loading:n,setPage:r,setLimit:a,error:s,data:u}=e();return n?f.jsx("div",{className:"flex justify-center items-center h-64",children:f.jsx(cr,{size:"large"})}):s?f.jsx(ut,{message:"Ошибка загрузки чатов",description:s.join(", "),type:"error",className:"mb-4"}):u?.data?.length?f.jsxs("div",{className:"space-y-4",children:[f.jsx($t,{itemLayout:"vertical",size:"large",dataSource:u.data,renderItem:i=>f.jsx($t.Item,{children:f.jsx(Do,{ActionSlot:t,chat:i})},i.id)}),u.totalPages>1&&f.jsx("div",{className:"flex justify-center mt-6",children:f.jsx(da,{current:u.currentPage,total:u.total,pageSize:u.currentLimit,onChange:r,onShowSizeChange:(i,l)=>a?.(l),showSizeChanger:!1,itemRender:(i,l,d)=>f.jsx("span",{className:"text-gray-300",children:d})})})]}):f.jsx(qe,{className:"bg-gray-800 border-gray-700 mt-8",children:f.jsxs("div",{className:"text-center py-8",children:[f.jsx(So,{className:"text-4xl text-gray-400 mb-4"}),f.jsx("h3",{className:"text-white text-lg font-medium mb-2",children:"Чаты не найдены"}),f.jsx("p",{className:"text-gray-400",children:"Создайте первый чат, чтобы начать общение"})]})})},Wo=o.memo(Lo),Mn=o.createContext(null),Ho=o.memo(({children:e,...t})=>f.jsx(Mn.Provider,{value:t,children:e})),Go=()=>{const e=o.useContext(Mn);if(!e)throw new Error("useCreateChatContract must be used within a CreateChatContractProvider");return e},qo=({useContract:e=Go})=>{const{form:t,createChat:n,error:r,loading:a}=e(),{control:s,formState:{errors:u}}=t;return f.jsx(qe,{className:"w-full max-w-md",title:"Создание нового чата",children:f.jsxs(de,{layout:"vertical",onFinish:n,className:"space-y-4",children:[r&&r.length>0&&f.jsx(ut,{message:"Ошибка создания чата",description:r,type:"error",showIcon:!0,closable:!0,className:"mb-4"}),f.jsx(de.Item,{label:"Название чата",validateStatus:u.name?"error":"",help:u.name?.message,required:!0,children:f.jsx(je,{name:"name",control:s,render:({field:i})=>f.jsx(Be,{...i,size:"large",prefix:f.jsx(vo,{className:"text-gray-400"}),placeholder:"Введите название чата"})})}),f.jsx(de.Item,{label:"Описание",validateStatus:u.description?"error":"",help:u.description?.message,children:f.jsx(je,{name:"description",control:s,render:({field:i})=>f.jsx(Be.TextArea,{...i,size:"large",autoSize:{minRows:2,maxRows:6},placeholder:"Добавьте описание (необязательно)"})})}),f.jsx(de.Item,{label:"Ключ доступа",required:!0,validateStatus:u.accessKey?"error":"",help:u.accessKey?.message,children:f.jsx(je,{name:"accessKey",control:s,render:({field:i})=>f.jsx(Be.Password,{...i,size:"large",prefix:f.jsx(In,{className:"text-gray-400"}),placeholder:"Придумайте ключ для входа"})})}),f.jsx(de.Item,{label:"Макс. количество участников",validateStatus:u.maxUsers?"error":"",help:u.maxUsers?.message,required:!0,children:f.jsx(je,{name:"maxUsers",control:s,render:({field:i})=>f.jsx(wn,{...i,min:2,max:100,size:"large",className:"w-full",prefix:f.jsx(jo,{className:"text-gray-400 mr-2"}),placeholder:"От 2 до 100"})})}),f.jsx(de.Item,{children:f.jsx(pe,{type:"primary",htmlType:"submit",size:"large",loading:a,className:"w-full",children:a?"Создание...":"Создать чат"})})]})})},Uo=o.memo(qo),Tn=o.createContext(null),Ko=o.memo(({children:e,...t})=>f.jsx(Tn.Provider,{value:t,children:e})),Xo=()=>{const e=o.useContext(Tn);if(!e)throw new Error("useEnterChatContract must be used within a EnterChatContractProvider");return e},Qo=({useContract:e=Xo})=>{const{form:t,error:n,enterChat:r,loading:a}=e(),{control:s,formState:{errors:u}}=t;return f.jsx(qe,{className:"w-full max-w-md",title:"Вход в чат по ключу доступа",children:f.jsxs(de,{layout:"vertical",onFinish:r,className:"space-y-4",children:[n&&n.length>0&&f.jsx(ut,{message:"Ошибка",description:n,type:"error",showIcon:!0,closable:!0,className:"mb-4 bg-red-900/20 border-red-800"}),f.jsx(de.Item,{label:f.jsx("span",{className:"text-gray-300",children:"Ключ доступа"}),validateStatus:u.accessKey?"error":"",help:u.accessKey?.message,children:f.jsx(je,{name:"accessKey",control:s,render:({field:i})=>f.jsx(Be.Password,{...i,size:"large",prefix:f.jsx(In,{className:"text-gray-400"}),placeholder:"Введите ключ доступа",className:"bg-gray-700 border-gray-600 text-white placeholder:text-gray-400"})})}),f.jsx(de.Item,{children:f.jsx(pe,{type:"primary",htmlType:"submit",size:"large",loading:a,className:"w-full bg-blue-600 hover:bg-blue-700 border-none",children:a?"Вход...":"Войти в чат"})})]})})},Yo=o.memo(Qo),kn=o.createContext(null),Zo=o.memo(({children:e,...t})=>f.jsx(kn.Provider,{value:t,children:e})),Jo=()=>{const e=o.useContext(kn);if(!e)throw new Error("useIsParticipantContract must be used within a IsParticipantContractProvider");return e},Bn=o.createContext(void 0);function es(e,t){switch(t.type){case"TOGGLE":{const n=!e[t.key];return t.mode==="single"&&n?{[t.key]:!0}:{...e,[t.key]:n}}case"SET":return t.mode==="single"&&t.value?{[t.key]:!0}:{...e,[t.key]:t.value};case"RESET":return t.initial;default:return e}}const ts=({children:e,initialState:t={},mode:n="multiple"})=>{const[r,a]=o.useReducer(es,t),s=o.useCallback(l=>a({type:"TOGGLE",key:l,mode:n}),[n]),u=o.useCallback((l,d)=>a({type:"SET",key:l,value:d,mode:n}),[n]),i=o.useCallback(l=>a({type:"RESET",initial:l}),[]);return f.jsx(Bn.Provider,{value:{state:r,toggle:s,set:u,reset:i},children:e})},ns=o.memo(ts);function rs(){const e=o.useContext(Bn);if(!e)throw new Error("useVisibility must be used within a VisibilityProvider");return e}const as=({children:e,targetKey:t,isOpenPropName:n="isOpen",shouldRender:r=!0,wrapper:a,...s})=>{const{isOpen:u}=pt(t),i={...e.props,...s,[n]:u};if(!r&&!u)return null;const l=o.cloneElement(e,i);return a?a(l,u):l},_t=o.memo(as),os=({children:e,triggerKey:t,propName:n="onClick",...r})=>{const{toggle:a}=pt(t);if(!e)throw new Error("VisibilityTrigger requires a child element");if(!o.isValidElement(e))throw new Error("VisibilityTrigger child must be a valid React element");const s=e?.props[n],u=o.useCallback(l=>{s?.(l),a()},[s,a]),i={...e?.props,...r,[n]:u};return o.cloneElement(e,i)},Ee=o.memo(os);function pt(e){const{state:t,toggle:n,set:r}=rs(),a=!!t[e],s=o.useCallback(()=>{n(e)},[e,n]),u=o.useCallback(i=>{r(e,i)},[e,r]);return{isOpen:a,toggle:s,set:u}}const ss=({className:e,chat:t})=>{const{loading:n,error:r,isParticipant:a}=Jo(),{set:s,isOpen:u}=pt("enterChat"),[i,l]=lt(),d=o.useCallback(()=>{if(a||!t)return;const c=new URLSearchParams(i);c.set("enterChatId",t?.id||""),l(c),s(!0)},[t,a,i,s,l]);return r&&r.length>0?f.jsxs("div",{className:"text-red-500",children:["Ошибка: ",r.join(", ")]}):a?f.jsx(ur,{to:`/chats/${t?.id}`,children:f.jsx(pe,{className:e,color:"cyan",variant:"solid",children:"Перейти в чат"})}):f.jsx(pe,{className:e,type:"primary",onClick:d,loading:n,disabled:n||a||u,children:a?"Вы в чате":"Войти в чат"})},is=o.memo(ss),ls=({children:e,...t})=>{const[n]=lt(),r=n.get("enterChatId")||void 0,a=o.Children.map(e,s=>o.isValidElement(s)?o.cloneElement(s,{...t,chatId:r}):s);return f.jsx(f.Fragment,{children:a})},cs=o.memo(ls);function us(e,t){const[n,r]=o.useState(e);return o.useEffect(()=>{const a=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(a)}},[e,t]),n}const At=(e,t)=>{if(e===null)return t;const n=Number(e);return Number.isInteger(n)&&n>0?n:t},ds=({children:e})=>{const[t,n]=lt(),r=At(t.get("page"),1),a=At(t.get("limit"),50),s=t.get("search")||"",[u,i]=o.useState(s),l=us(u,500),d=t.get("sortOrder")||"asc",c=t.get("isPublic");if(!["asc","desc"].includes(d))throw new Error(`Invalid sortOrder: ${d}. Valid sortOrders are 'asc', 'desc'.`);const p=o.useCallback(m=>{n(C=>{const b=new URLSearchParams(C);return b.set("page",String(m)),b})},[n]),h=o.useCallback(m=>{n(C=>{const b=new URLSearchParams(C);return m<1||m>100?(b.set("limit",String(50)),b.set("page","1"),b):(b.set("limit",String(m)),b.set("page","1"),b)})},[n]),g=o.useCallback(m=>{n(C=>{const b=new URLSearchParams(C);return m.trim()===""?b.delete("search"):b.set("search",m),b.set("page","1"),b})},[n]),x=o.useCallback(m=>{m.trim()===""?i(""):i(m)},[]),v=o.useCallback(m=>{n(C=>{const b=new URLSearchParams(C);return m==="asc"||m==="desc"?b.set("sortOrder",m):b.delete("sortOrder"),b})},[n]),S=o.useCallback(()=>{n(m=>{const C=new URLSearchParams(m);return C.delete("search"),C.delete("sortOrder"),C.set("page","1"),C.set("limit","50"),C}),i("")},[n]);o.useEffect(()=>{g(l)},[l,g]);const y=o.Children.map(e,m=>o.isValidElement(m)?o.cloneElement(m,{page:r,limit:a,search:s,inputSearchValue:u,sortOrder:d,isPublic:c,setSort:v,setPage:p,setLimit:h,setSearch:x,resetFilters:S}):m);return f.jsx(f.Fragment,{children:y})},ms=o.memo(ds),fs=Zt({name:Fe("Введите название чата").min(3,"Название чата должно содержать минимум 3 символа").max(100,"Название чата должно содержать максимум 100 символов"),description:Fe("Описание чата должно быть строкой").max(2e3,"Описание чата должно содержать максимум 20000 символов").optional(),accessKey:Fe("Введите ключ доступа").min(0,"Ключ доступа не может быть отрицательной длины").max(100,"Ключ доступа должен содержать максимум 100 символов"),maxUsers:aa("Введите число пользователей").int("Максимальное количество пользователей должно быть целым числом").min(2,"Минимальное количество пользователей: 2").max(100,"Максимальное количество пользователей: 100")}),gs=({afterSuccess:e=Ve,afterError:t=Ve,showSuccessNotification:n=!0,showErrorNotification:r=!1,clearForm:a=!1})=>{const s=Ut(),{error:u,isPending:i,mutateAsync:l,isError:d}=Jt({mutationFn:Ke.createChat,onSuccess:async()=>{n&&De("Чат успешно создан!","success"),e&&e(),await s.invalidateQueries({queryKey:["chats"],exact:!1})},onError:async h=>{r&&De(h.message,"error"),t&&t()}}),c=en({mode:"all",reValidateMode:"onChange",resolver:tn(fs)}),p=c.handleSubmit(async h=>{await l(h),a&&c.reset()});return{form:c,loading:i,createChat:p,error:d?u?.message:[]}},ps=({children:e,clearForm:t,showErrorNotification:n,showSuccessNotification:r,afterError:a,afterSuccess:s})=>{const{loading:u,createChat:i,form:l,error:d}=gs({showSuccessNotification:r,showErrorNotification:n,afterSuccess:s,afterError:a,clearForm:t});return f.jsx(Ho,{createChat:i,form:l,error:d,loading:u,children:e})},hs=o.memo(ps),vs=Zt({accessKey:Fe("Введите ключ доступа").min(0,"Ключ доступа не может быть отрицательной длины").max(100,"Ключ доступа должен содержать максимум 100 символов")}),bs=({afterSuccess:e=Ve,afterError:t=Ve,showSuccessNotification:n=!0,showErrorNotification:r=!1,chatId:a="",clearForm:s=!1,redirectUrl:u})=>{const i=Ut(),l=dr(),{error:d,isPending:c,mutateAsync:p,isError:h}=Jt({mutationFn:async v=>Ke.enterChat(a,v),onSuccess:async()=>{n&&De("Вы успешно вошли в чат!","success"),e&&e(),await i.invalidateQueries({queryKey:["chats"],exact:!1}),await i.invalidateQueries({queryKey:["is-participant",a],exact:!1}),await i.invalidateQueries({queryKey:["chat-details",a]}),u&&l(u)},onError:async v=>{r&&De(v.message,"error"),t&&t()}}),g=en({mode:"all",reValidateMode:"onChange",resolver:tn(vs)}),x=g.handleSubmit(async v=>{await p(v),s&&g.reset()});return{form:g,loading:c,enterChat:x,error:h?d?.message:[]}},Cs=({children:e,chatId:t="",showSuccessNotification:n,showErrorNotification:r,clearForm:a,afterError:s,afterSuccess:u})=>{const{loading:i,enterChat:l,form:d,error:c}=bs({showSuccessNotification:n,showErrorNotification:r,afterSuccess:u,afterError:s,chatId:t,clearForm:a});return f.jsx(Ko,{enterChat:l,form:d,error:c,loading:i,children:e})},xs=o.memo(Cs),ys=({dto:e})=>{const{error:t,data:n,isLoading:r}=Kt({queryKey:["chats",e.page,e.limit,e.sortOrder,e.search,e.sortBy],queryFn:async()=>await Ke.getAllChats(e)});return{error:t?t.message:null,data:n,loading:r}},Ss=({limit:e,search:t,page:n,children:r,setPage:a,setSearch:s,setLimit:u,resetFilters:i,inputSearchValue:l="",setSort:d,sortBy:c,sortOrder:p})=>{const{error:h,data:g,loading:x}=ys({dto:{limit:e,search:t,page:n,sortOrder:p,sortBy:c}});return f.jsx(_o,{data:g,loading:x,error:h,limit:e,search:t,page:n,setPage:a,setSearch:s,resetFilters:i,setLimit:u,inputSearchValue:l,setSort:d,sort:p,children:r})},Ns=o.memo(Ss),Os=({chatId:e})=>{const{isPending:t,data:n,isError:r,error:a}=Kt({queryKey:["is-participant",e],queryFn:async()=>await Ke.isParticipant(e),enabled:!!e});return{loading:t,isParticipant:n,error:r?a?.message:[]}},$s=({children:e,chatId:t=""})=>{const{loading:n,isParticipant:r,error:a}=Os({chatId:t});return f.jsx(Zo,{isParticipant:r&&r.isParticipant,error:a,loading:n,children:e})},Es=o.memo($s),ws=()=>f.jsx("main",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 py-8",children:f.jsx("div",{className:"container mx-auto px-4",children:f.jsx(ms,{children:f.jsx(Ns,{children:f.jsxs(ns,{children:[f.jsxs("section",{className:"mb-8",children:[f.jsxs("div",{className:"flex flex-col gap-4 md:flex-row justify-between items-center",children:[f.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Доступные чаты"}),f.jsx(Ee,{triggerKey:"createChat",propName:"onClick",children:f.jsx(pe,{children:"Создать новый чат"})}),f.jsx(_t,{targetKey:"createChat",isOpenPropName:"open",children:f.jsx(Ee,{triggerKey:"createChat",propName:"onCancel",children:f.jsx(te,{footer:null,destroyOnHidden:!0,title:"Создать новый чат",centered:!0,children:f.jsx(Ee,{triggerKey:"createChat",propName:"afterSuccess",children:f.jsx(hs,{children:f.jsx(Uo,{})})})})})})]}),f.jsx(Wo,{ActionSlot:({chat:e})=>f.jsx(Es,{chatId:e.id,children:f.jsx(is,{chat:e,className:"mt-5 w-full"})})})]}),f.jsx(Ee,{triggerKey:"enterChat",propName:"onCancel",children:f.jsx(_t,{targetKey:"enterChat",isOpenPropName:"open",children:f.jsx(te,{centered:!0,footer:null,destroyOnHidden:!0,title:"Вход в чат",children:f.jsx(cs,{children:f.jsx(Ee,{triggerKey:"enterChat",propName:"afterSuccess",children:f.jsx(xs,{children:f.jsx("div",{className:"my-6",children:f.jsx(Yo,{})})})})})})})})]})})})})}),zs=o.memo(ws);export{zs as default};
